{"version":3,"file":"src_app_general-setup_users_users_module_ts.js","mappings":"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","sources":["./src/app/general-setup/users/users.module.ts","./src/app/general-setup/users/users.page.ts","./src/app/general-setup/users/users.page.html","./src/app/services/users-api.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { HttpClientModule } from '@angular/common/http';\nimport { UsersPage } from './users.page';\nimport { UsersApiService } from '../../services/users-api.service';\nimport { RolesApiService } from '../../services/roles-api.service';\nimport { DepartmentsApiService } from '../../services/departments-api.service';\n\nconst routes: Routes = [{ path: '', component: UsersPage }];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, HttpClientModule, RouterModule.forChild(routes)],\n  declarations: [UsersPage],\n  providers: [UsersApiService, RolesApiService, DepartmentsApiService]\n})\nexport class UsersPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\nimport { RoleApiItem, RolesApiService } from '../../services/roles-api.service';\nimport { DepartmentApiItem, DepartmentsApiService } from '../../services/departments-api.service';\nimport { UserApiItem, UsersApiService } from '../../services/users-api.service';\n\ninterface User {\n  id: string; name: string; username: string; role: string; dept: string;\n  active: boolean; lastLogin: string; initials: string; avatarBg: string;\n}\n\n@Component({ selector: 'app-users', templateUrl: './users.page.html', styleUrls: ['./users.page.scss'] })\nexport class UsersPage implements OnInit {\n  tenantId = 'default';\n  searchQuery = ''; roleFilter = ''; statusFilter = '';\n  showModal = false; editMode = false;\n  isLoading = false;\n  errorMessage = '';\n\n  form = { name: '', username: '', role: '', dept: '', password: '' };\n  formErrors = { name: '', username: '', role: '', dept: '', password: '' };\n  submitted = false;\n  editingId: string | null = null;\n\n  roleOptions: string[] = [];\n  deptOptions: string[] = [];\n\n  avatarBgs = ['linear-gradient(135deg,#3B82F6,#60A5FA)', 'linear-gradient(135deg,#10B981,#34D399)',\n    'linear-gradient(135deg,#8B5CF6,#A78BFA)', 'linear-gradient(135deg,#EF4444,#F87171)',\n    'linear-gradient(135deg,#E8A020,#F5B942)', 'linear-gradient(135deg,#EC4899,#F472B6)'];\n\n  users: User[] = [];\n\n  filtered: User[] = [];\n\n  constructor(\n    private authService: AuthService,\n    private usersApi: UsersApiService,\n    private rolesApi: RolesApiService,\n    private departmentsApi: DepartmentsApiService\n  ) {}\n\n  ngOnInit() {\n    this.loadUsers();\n    this.loadRoleOptions();\n    this.loadDepartmentOptions();\n  }\n\n  get canManageUsers(): boolean {\n    const role = (this.authService.currentUser?.role || '').toLowerCase();\n    return role === 'super admin' || role === 'admin';\n  }\n\n  get totalUsers(): number {\n    return this.users.length;\n  }\n\n  get activeUsers(): number {\n    return this.users.filter((u) => u.active).length;\n  }\n\n  get inactiveUsers(): number {\n    return this.users.filter((u) => !u.active).length;\n  }\n\n  loadUsers() {\n    if (!this.tenantId.trim()) {\n      this.errorMessage = 'Tenant ID is required.';\n      return;\n    }\n    this.errorMessage = '';\n    this.isLoading = true;\n    this.usersApi.listUsers(this.tenantId.trim()).subscribe({\n      next: (res) => {\n        this.isLoading = false;\n        this.users = (res.users || []).map((u, idx) => this.mapFromApi(u, idx));\n        this.filter();\n      },\n      error: (err) => {\n        this.isLoading = false;\n        this.errorMessage = err?.error?.detail || 'Failed to load users.';\n      }\n    });\n  }\n\n  loadRoleOptions() {\n    if (!this.tenantId.trim()) return;\n    this.rolesApi.listRoles(this.tenantId.trim()).subscribe({\n      next: (res) => {\n        const names = (res.roles || []).map((r: RoleApiItem) => r.name).filter(Boolean);\n        this.roleOptions = Array.from(new Set(names));\n      }\n    });\n  }\n\n  loadDepartmentOptions() {\n    if (!this.tenantId.trim()) return;\n    this.departmentsApi.listDepartments(this.tenantId.trim()).subscribe({\n      next: (res) => {\n        const names = (res.departments || []).map((d: DepartmentApiItem) => d.name).filter(Boolean);\n        this.deptOptions = Array.from(new Set(names));\n      }\n    });\n  }\n\n  filter() {\n    this.filtered = this.users.filter(u => {\n      const matchSearch = !this.searchQuery || u.name.toLowerCase().includes(this.searchQuery.toLowerCase()) || u.username.toLowerCase().includes(this.searchQuery.toLowerCase());\n      const matchRole = !this.roleFilter || u.role === this.roleFilter;\n      const matchStatus = !this.statusFilter || (this.statusFilter === 'active' ? u.active : !u.active);\n      return matchSearch && matchRole && matchStatus;\n    });\n  }\n\n  openModal() {\n    if (!this.canManageUsers) return;\n    this.submitted = false;\n    this.formErrors = { name: '', username: '', role: '', dept: '', password: '' };\n    this.form = {\n      name: '',\n      username: '',\n      role: this.roleOptions[0] || '',\n      dept: this.deptOptions[0] || '',\n      password: ''\n    };\n    this.editMode = false;\n    this.editingId = null;\n    this.showModal = true;\n  }\n  \n  editUser(u: User) {\n    if (!this.canManageUsers) return;\n    this.submitted = false;\n    this.formErrors = { name: '', username: '', role: '', dept: '', password: '' };\n    this.form = { name: u.name, username: u.username, role: u.role, dept: u.dept, password: '' };\n    this.editingId = u.id; this.editMode = true; this.showModal = true;\n  }\n\n  saveUser() {\n    if (!this.canManageUsers) return;\n    this.submitted = true;\n    if (!this.tenantId.trim()) {\n      this.errorMessage = 'Tenant ID is required.';\n      return;\n    }\n    this.errorMessage = '';\n    if (!this.validateForm()) return;\n\n    const { firstName, lastName } = this.splitName(this.form.name);\n    if (this.editMode && this.editingId) {\n      this.usersApi.updateUser({\n        userId: this.editingId,\n        tenantId: this.tenantId.trim(),\n        username: this.form.username.trim().toLowerCase(),\n        firstName: firstName,\n        lastName: lastName,\n        email: this.form.username.trim().toLowerCase(),\n        roleName: this.form.role,\n        departmentName: this.form.dept,\n        isActive: true,\n        password: this.form.password.trim() || undefined,\n      }).subscribe({\n        next: () => {\n          this.showModal = false;\n          this.loadUsers();\n        },\n        error: (err) => {\n          this.errorMessage = err?.error?.detail || 'Failed to update user.';\n        }\n      });\n    } else {\n      this.usersApi.createUser({\n        tenantId: this.tenantId.trim(),\n        username: this.form.username.trim().toLowerCase(),\n        firstName: firstName,\n        lastName: lastName,\n        email: this.form.username.trim().toLowerCase(),\n        roleName: this.form.role,\n        departmentName: this.form.dept,\n        isActive: true,\n        password: this.form.password.trim() || undefined,\n      }).subscribe({\n        next: () => {\n          this.showModal = false;\n          this.loadUsers();\n        },\n        error: (err) => {\n          this.errorMessage = err?.error?.detail || 'Failed to create user.';\n        }\n      });\n    }\n  }\n\n  deleteUser(u: User) {\n    if (!this.canManageUsers) return;\n    if (!this.tenantId.trim()) {\n      this.errorMessage = 'Tenant ID is required.';\n      return;\n    }\n    if (confirm(`Delete user \"${u.name}\"?`)) {\n      this.usersApi.deleteUser(u.id, this.tenantId.trim()).subscribe({\n        next: () => {\n          this.users = this.users.filter((x) => x.id !== u.id);\n          this.filter();\n        },\n        error: (err) => {\n          this.errorMessage = err?.error?.detail || 'Failed to delete user.';\n        }\n      });\n    }\n  }\n\n  toggleStatus(u: User) {\n    if (!this.canManageUsers || !this.tenantId.trim()) return;\n    const { firstName, lastName } = this.splitName(u.name);\n    this.usersApi.updateUser({\n      userId: u.id,\n      tenantId: this.tenantId.trim(),\n      username: u.username,\n      firstName: firstName,\n      lastName: lastName,\n      email: u.username,\n      roleName: u.role,\n      departmentName: u.dept,\n      isActive: !u.active,\n    }).subscribe({\n      next: () => {\n        u.active = !u.active;\n        this.filter();\n      }\n    });\n  }\n\n  closeModal(e: any) {\n    if (!e || e.target === e.currentTarget) {\n      this.showModal = false;\n      this.submitted = false;\n      this.formErrors = { name: '', username: '', role: '', dept: '', password: '' };\n    }\n  }\n\n  private mapFromApi(u: UserApiItem, idx: number): User {\n    const first = (u.first_name || '').trim();\n    const last = (u.last_name || '').trim();\n    const fullName = `${first} ${last}`.trim() || u.email;\n    const initials = `${first[0] || ''}${last[0] || first[1] || ''}`.toUpperCase() || 'U';\n    return {\n      id: u.id,\n      name: fullName,\n      username: u.username || u.email,\n      role: u.role_name || 'Unassigned',\n      dept: u.department_name || 'Unassigned',\n      active: !!u.is_active,\n      lastLogin: u.last_login_at ? new Date(u.last_login_at).toLocaleString() : 'Never',\n      initials,\n      avatarBg: this.avatarBgs[idx % this.avatarBgs.length],\n    };\n  }\n\n  private splitName(name: string): { firstName: string; lastName: string } {\n    const parts = name.trim().split(/\\s+/);\n    return { firstName: parts[0] || '', lastName: parts.slice(1).join(' ') };\n  }\n\n  private validateForm(): boolean {\n    this.formErrors = { name: '', username: '', role: '', dept: '', password: '' };\n    let valid = true;\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n    if (!this.form.name.trim()) {\n      this.formErrors.name = 'Please fill this field.';\n      valid = false;\n    }\n    if (!this.form.username.trim()) {\n      this.formErrors.username = 'Please fill this field.';\n      valid = false;\n    } else if (!emailRegex.test(this.form.username.trim())) {\n      this.formErrors.username = 'Username must be like admin@gmail.com.';\n      valid = false;\n    }\n    if (!this.form.role.trim()) {\n      this.formErrors.role = 'Please fill this field.';\n      valid = false;\n    }\n    if (!this.form.dept.trim()) {\n      this.formErrors.dept = 'Please fill this field.';\n      valid = false;\n    }\n    if (!this.editMode && !this.form.password.trim()) {\n      this.formErrors.password = 'Please fill this field.';\n      valid = false;\n    }\n    return valid;\n  }\n}\n","<div class=\"roles-content\">\n  <div class=\"setup-page users-page\">\n    <section class=\"users-hero card\">\n      <div class=\"users-hero__copy\">\n        <p class=\"hero-kicker\">Identity Access</p>\n        <h1 class=\"page-title\">Users</h1>\n        <p class=\"page-subtitle\">Create and manage user accounts with username and password credentials.</p>\n      </div>\n      <div class=\"users-hero__stats\">\n        <div class=\"stat-box\">\n          <span>Total Users</span>\n          <strong>{{ totalUsers }}</strong>\n        </div>\n        <div class=\"stat-box\">\n          <span>Active</span>\n          <strong>{{ activeUsers }}</strong>\n        </div>\n        <div class=\"stat-box\">\n          <span>Inactive</span>\n          <strong>{{ inactiveUsers }}</strong>\n        </div>\n      </div>\n    </section>\n\n    <div class=\"page-toolbar card\">\n      <div class=\"toolbar-left\">\n        <label>\n          Tenant\n          <input type=\"text\" class=\"form-control\" placeholder=\"default\" [(ngModel)]=\"tenantId\" />\n        </label>\n        <button class=\"btn-outline\" (click)=\"loadUsers()\" [disabled]=\"isLoading\">{{ isLoading ? 'Loading...' : 'Load Users' }}</button>\n      </div>\n      <div class=\"toolbar-right\">\n        <button class=\"btn-primary\" (click)=\"openModal()\" [disabled]=\"!canManageUsers\">\n          <ion-icon name=\"add-outline\"></ion-icon>\n          Add User\n        </button>\n      </div>\n    </div>\n\n    <div class=\"page-toolbar card filter-toolbar\">\n      <div class=\"toolbar-left\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"Search by name or username\" [(ngModel)]=\"searchQuery\" (ngModelChange)=\"filter()\" />\n        <select class=\"form-control\" [(ngModel)]=\"roleFilter\" (ngModelChange)=\"filter()\">\n          <option value=\"\">All Roles</option>\n          <option *ngFor=\"let r of roleOptions\">{{ r }}</option>\n        </select>\n        <select class=\"form-control\" [(ngModel)]=\"statusFilter\" (ngModelChange)=\"filter()\">\n          <option value=\"\">All Status</option>\n          <option value=\"active\">Active</option>\n          <option value=\"inactive\">Inactive</option>\n        </select>\n      </div>\n    </div>\n\n    <div class=\"card notice\" *ngIf=\"!canManageUsers\">\n      You have view-only access. Only <strong>Admin</strong> or <strong>Super Admin</strong> can add, edit, or delete users.\n    </div>\n    <div class=\"card notice error\" *ngIf=\"errorMessage\">{{ errorMessage }}</div>\n\n    <section class=\"card users-table-card\">\n      <div class=\"card-header\">\n        <h3>User Registry</h3>\n      </div>\n      <div class=\"table-responsive\">\n        <table class=\"users-table\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Username</th>\n              <th>Role</th>\n              <th>Department</th>\n              <th>Status</th>\n              <th>Last Login</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let u of filtered\">\n              <td>\n                <div class=\"user-cell\">\n                  <div class=\"avatar\" [style.background]=\"u.avatarBg\">{{ u.initials }}</div>\n                  <div class=\"identity\">\n                    <span class=\"identity-name\">{{ u.name }}</span>\n                    <span class=\"identity-user\">{{ u.username }}</span>\n                  </div>\n                </div>\n              </td>\n              <td><span class=\"mono-tag\">&#64;{{ u.username }}</span></td>\n              <td><span class=\"data-pill role-pill\">{{ u.role }}</span></td>\n              <td><span class=\"data-pill dept-pill\">{{ u.dept }}</span></td>\n              <td>\n                <span class=\"badge\" [class]=\"u.active ? 'badge-success' : 'badge-danger'\">{{ u.active ? 'Active' : 'Inactive' }}</span>\n              </td>\n              <td>{{ u.lastLogin }}</td>\n              <td>\n                <div class=\"actions-cell\">\n                  <button class=\"action-btn edit\" (click)=\"editUser(u)\" [disabled]=\"!canManageUsers\"><ion-icon name=\"create-outline\"></ion-icon></button>\n                  <button class=\"action-btn delete\" (click)=\"deleteUser(u)\" [disabled]=\"!canManageUsers\"><ion-icon name=\"trash-outline\"></ion-icon></button>\n                  <button class=\"action-btn\" (click)=\"toggleStatus(u)\" [disabled]=\"!canManageUsers\"><ion-icon name=\"swap-horizontal-outline\"></ion-icon></button>\n                </div>\n              </td>\n            </tr>\n            <tr *ngIf=\"!filtered.length\">\n              <td colspan=\"7\" class=\"empty-cell\">No users found for this tenant.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n  </div>\n\n  <div class=\"modal-overlay\" *ngIf=\"showModal\" (click)=\"closeModal($event)\">\n    <div class=\"modal-box\">\n      <div class=\"modal-header\">\n        <h3>{{ editMode ? 'Edit User' : 'Create User' }}</h3>\n        <button class=\"close-btn\" (click)=\"closeModal(null)\"><ion-icon name=\"close-outline\"></ion-icon></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"modal-intro\">Enter user identity and login credentials. Username must be unique per tenant.</div>\n        <div class=\"form-group\">\n          <label>Name</label>\n          <input type=\"text\" class=\"form-control\" placeholder=\"Full name\" [(ngModel)]=\"form.name\"/>\n          <div class=\"field-error\" *ngIf=\"submitted && formErrors.name\">{{ formErrors.name }}</div>\n        </div>\n        <div class=\"form-group\">\n          <label>Username</label>\n          <input type=\"text\" class=\"form-control\" placeholder=\"e.g. alex.morgan\" [(ngModel)]=\"form.username\"/>\n          <div class=\"field-error\" *ngIf=\"submitted && formErrors.username\">{{ formErrors.username }}</div>\n        </div>\n        <div class=\"form-group\">\n          <label>Password {{ editMode ? '(Optional - keep blank to retain current)' : '' }}</label>\n          <input type=\"password\" class=\"form-control\" placeholder=\"Enter password\" [(ngModel)]=\"form.password\"/>\n          <div class=\"field-error\" *ngIf=\"submitted && formErrors.password\">{{ formErrors.password }}</div>\n        </div>\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label>Role</label>\n            <select class=\"form-control\" [(ngModel)]=\"form.role\">\n              <option value=\"\">Select role</option>\n              <option *ngFor=\"let r of roleOptions\">{{ r }}</option>\n            </select>\n            <div class=\"field-error\" *ngIf=\"submitted && formErrors.role\">{{ formErrors.role }}</div>\n          </div>\n          <div class=\"form-group\">\n            <label>Department</label>\n            <select class=\"form-control\" [(ngModel)]=\"form.dept\">\n              <option value=\"\">Select department</option>\n              <option *ngFor=\"let d of deptOptions\">{{ d }}</option>\n            </select>\n            <div class=\"field-error\" *ngIf=\"submitted && formErrors.dept\">{{ formErrors.dept }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button class=\"btn-outline\" (click)=\"closeModal(null)\">Cancel</button>\n        <button class=\"btn-primary\" (click)=\"saveUser()\" [disabled]=\"!canManageUsers\">{{ editMode ? 'Save Changes' : 'Create User' }}</button>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\n\nexport interface UserApiItem {\n  id: string;\n  tenant_id: string;\n  username: string;\n  first_name: string;\n  last_name: string;\n  email: string;\n  role_name: string;\n  department_name: string;\n  is_active: boolean;\n  last_login_at: string | null;\n  created_at: string;\n  updated_at: string;\n}\n\n@Injectable()\nexport class UsersApiService {\n  private readonly baseUrl = environment.analyseServiceApiUrl || 'http://localhost:8002';\n\n  constructor(private http: HttpClient) {}\n\n  listUsers(tenantId: string): Observable<{ tenant_id: string; total: number; users: UserApiItem[] }> {\n    return this.http.get<{ tenant_id: string; total: number; users: UserApiItem[] }>(\n      `${this.baseUrl}/admin/users?tenant_id=${encodeURIComponent(tenantId)}`\n    );\n  }\n\n  createUser(payload: {\n    tenantId: string;\n    username: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n    roleName: string;\n    departmentName: string;\n    isActive: boolean;\n    password?: string;\n  }): Observable<UserApiItem> {\n    return this.http.post<UserApiItem>(`${this.baseUrl}/admin/users`, {\n      tenant_id: payload.tenantId,\n      username: payload.username,\n      first_name: payload.firstName,\n      last_name: payload.lastName,\n      email: payload.email,\n      role_name: payload.roleName,\n      department_name: payload.departmentName,\n      is_active: payload.isActive,\n      password: payload.password || undefined,\n    });\n  }\n\n  updateUser(payload: {\n    userId: string;\n    tenantId: string;\n    username: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n    roleName: string;\n    departmentName: string;\n    isActive: boolean;\n    password?: string;\n  }): Observable<UserApiItem> {\n    return this.http.put<UserApiItem>(`${this.baseUrl}/admin/users/${payload.userId}`, {\n      tenant_id: payload.tenantId,\n      username: payload.username,\n      first_name: payload.firstName,\n      last_name: payload.lastName,\n      email: payload.email,\n      role_name: payload.roleName,\n      department_name: payload.departmentName,\n      is_active: payload.isActive,\n      password: payload.password || undefined,\n    });\n  }\n\n  deleteUser(userId: string, tenantId: string): Observable<{ deleted: boolean; user_id: string }> {\n    return this.http.delete<{ deleted: boolean; user_id: string }>(\n      `${this.baseUrl}/admin/users/${userId}?tenant_id=${encodeURIComponent(tenantId)}`\n    );\n  }\n}\n"],"names":["CommonModule","FormsModule","RouterModule","IonicModule","HttpClientModule","UsersPage","UsersApiService","RolesApiService","DepartmentsApiService","routes","path","component","UsersPageModule","imports","forChild","declarations","i1","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","r_r1","ctx_r1","errorMessage","ɵɵlistener","UsersPage_tr_76_Template_button_click_26_listener","u_r4","ɵɵrestoreView","_r3","$implicit","ɵɵnextContext","ɵɵresetView","editUser","ɵɵelement","UsersPage_tr_76_Template_button_click_28_listener","deleteUser","UsersPage_tr_76_Template_button_click_30_listener","toggleStatus","ɵɵstyleProp","avatarBg","initials","name","username","ɵɵtextInterpolate1","role","dept","ɵɵclassMap","active","lastLogin","ɵɵproperty","canManageUsers","formErrors","password","r_r6","d_r7","UsersPage_div_78_Template_div_click_0_listener","$event","_r5","closeModal","UsersPage_div_78_Template_button_click_5_listener","ɵɵtwoWayListener","UsersPage_div_78_Template_input_ngModelChange_13_listener","ɵɵtwoWayBindingSet","form","ɵɵtemplate","UsersPage_div_78_div_14_Template","UsersPage_div_78_Template_input_ngModelChange_18_listener","UsersPage_div_78_div_19_Template","UsersPage_div_78_Template_input_ngModelChange_23_listener","UsersPage_div_78_div_24_Template","UsersPage_div_78_Template_select_ngModelChange_29_listener","UsersPage_div_78_option_32_Template","UsersPage_div_78_div_33_Template","UsersPage_div_78_Template_select_ngModelChange_37_listener","UsersPage_div_78_option_40_Template","UsersPage_div_78_div_41_Template","UsersPage_div_78_Template_button_click_43_listener","UsersPage_div_78_Template_button_click_45_listener","saveUser","editMode","ɵɵtwoWayProperty","submitted","roleOptions","deptOptions","constructor","authService","usersApi","rolesApi","departmentsApi","tenantId","searchQuery","roleFilter","statusFilter","showModal","isLoading","editingId","avatarBgs","users","filtered","ngOnInit","loadUsers","loadRoleOptions","loadDepartmentOptions","currentUser","toLowerCase","totalUsers","length","activeUsers","filter","u","inactiveUsers","trim","listUsers","subscribe","next","res","map","idx","mapFromApi","error","err","detail","listRoles","names","roles","r","Boolean","Array","from","Set","listDepartments","departments","d","matchSearch","includes","matchRole","matchStatus","openModal","id","validateForm","firstName","lastName","splitName","updateUser","userId","email","roleName","departmentName","isActive","undefined","createUser","confirm","x","e","target","currentTarget","first","first_name","last","last_name","fullName","toUpperCase","role_name","department_name","is_active","last_login_at","Date","toLocaleString","parts","split","slice","join","valid","emailRegex","test","ɵɵdirectiveInject","AuthService","i2","i3","i4","selectors","decls","vars","consts","template","UsersPage_Template","rf","ctx","UsersPage_Template_input_ngModelChange_30_listener","UsersPage_Template_button_click_31_listener","UsersPage_Template_button_click_34_listener","UsersPage_Template_input_ngModelChange_39_listener","UsersPage_Template_select_ngModelChange_40_listener","UsersPage_option_43_Template","UsersPage_Template_select_ngModelChange_44_listener","UsersPage_div_51_Template","UsersPage_div_52_Template","UsersPage_tr_76_Template","UsersPage_tr_77_Template","UsersPage_div_78_Template","environment","http","baseUrl","analyseServiceApiUrl","get","encodeURIComponent","payload","post","tenant_id","put","delete","ɵɵinject","HttpClient","factory","ɵfac"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}