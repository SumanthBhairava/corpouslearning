{"version":3,"file":"src_app_general-setup_departments_departments_module_ts.js","mappings":"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","sources":["./src/app/general-setup/departments/departments.module.ts","./src/app/general-setup/departments/departments.page.ts","./src/app/general-setup/departments/departments.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule, Routes } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { HttpClientModule } from '@angular/common/http';\nimport { DepartmentsPage } from './departments.page';\nimport { DepartmentsApiService } from '../../services/departments-api.service';\n\nconst routes: Routes = [{ path: '', component: DepartmentsPage }];\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, HttpClientModule, RouterModule.forChild(routes)],\n  declarations: [DepartmentsPage],\n  providers: [DepartmentsApiService]\n})\nexport class DepartmentsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../../services/auth.service';\nimport { DepartmentApiItem, DepartmentsApiService } from '../../services/departments-api.service';\n\ninterface Department { id: string; name: string; description: string; icon: string; color: string; memberCount: number; openRoles: number; }\n\n@Component({ selector: 'app-departments', templateUrl: './departments.page.html', styleUrls: ['./departments.page.scss'] })\nexport class DepartmentsPage implements OnInit {\n  tenantId = 'default';\n  showModal = false; editMode = false; editingId: string | null = null;\n  isLoading = false;\n  errorMessage = '';\n  form = { name: '', description: '' };\n\n  departments: Department[] = [];\n\n  constructor(private authService: AuthService, private departmentsApi: DepartmentsApiService) {}\n\n  ngOnInit() {\n    this.loadDepartments();\n  }\n\n  loadDepartments() {\n    if (!this.tenantId.trim()) {\n      this.errorMessage = 'Tenant ID is required.';\n      return;\n    }\n    this.errorMessage = '';\n    this.isLoading = true;\n    this.departmentsApi.listDepartments(this.tenantId.trim()).subscribe({\n      next: (res) => {\n        this.isLoading = false;\n        this.departments = (res.departments || []).map((d) => this.mapFromApi(d));\n      },\n      error: (err) => {\n        this.isLoading = false;\n        this.errorMessage = err?.error?.detail || 'Failed to load departments.';\n      }\n    });\n  }\n\n  get canManageDepartments(): boolean {\n    const role = (this.authService.currentUser?.role || '').toLowerCase();\n    return role === 'super admin' || role === 'admin';\n  }\n\n  get departmentCount(): number {\n    return this.departments.length;\n  }\n\n  get totalMembers(): number {\n    return this.departments.reduce((sum, d) => sum + d.memberCount, 0);\n  }\n\n  get totalOpenRoles(): number {\n    return this.departments.reduce((sum, d) => sum + d.openRoles, 0);\n  }\n\n  openModal() {\n    if (!this.canManageDepartments) return;\n    this.form = { name: '', description: '' };\n    this.editMode = false;\n    this.editingId = null;\n    this.showModal = true;\n  }\n  \n  editDept(d: Department) {\n    if (!this.canManageDepartments) return;\n    this.form = { name: d.name, description: d.description };\n    this.editingId = d.id;\n    this.editMode = true;\n    this.showModal = true;\n  }\n  \n  deleteDept(d: Department) {\n    if (!this.canManageDepartments) return;\n    if (!this.tenantId.trim()) {\n      this.errorMessage = 'Tenant ID is required.';\n      return;\n    }\n    if (confirm(`Delete \"${d.name}\" department?`)) {\n      this.departmentsApi.deleteDepartment(d.id, this.tenantId.trim()).subscribe({\n        next: () => {\n          this.departments = this.departments.filter((x) => x.id !== d.id);\n        },\n        error: (err) => {\n          this.errorMessage = err?.error?.detail || 'Failed to delete department.';\n        }\n      });\n    }\n  }\n  \n  saveDept() {\n    if (!this.canManageDepartments) return;\n    if (!this.tenantId.trim() || !this.form.name.trim()) {\n      this.errorMessage = 'Tenant ID and department name are required.';\n      return;\n    }\n\n    this.errorMessage = '';\n    if (this.editMode && this.editingId) {\n      this.departmentsApi.updateDepartment({\n        departmentId: this.editingId,\n        tenantId: this.tenantId.trim(),\n        name: this.form.name.trim(),\n        description: this.form.description.trim(),\n      }).subscribe({\n        next: () => {\n          this.showModal = false;\n          this.loadDepartments();\n        },\n        error: (err) => {\n          this.errorMessage = err?.error?.detail || 'Failed to update department.';\n        }\n      });\n    } else {\n      this.departmentsApi.createDepartment({\n        tenantId: this.tenantId.trim(),\n        name: this.form.name.trim(),\n        description: this.form.description.trim(),\n      }).subscribe({\n        next: () => {\n          this.showModal = false;\n          this.loadDepartments();\n        },\n        error: (err) => {\n          this.errorMessage = err?.error?.detail || 'Failed to create department.';\n        }\n      });\n    }\n  }\n  \n  closeModal(e: any) { if (!e || e.target === e.currentTarget) this.showModal = false; }\n\n  private mapFromApi(d: DepartmentApiItem): Department {\n    return {\n      id: d.id,\n      name: d.name,\n      description: d.description || '',\n      icon: d.icon,\n      color: d.color,\n      memberCount: d.member_count || 0,\n      openRoles: d.open_roles || 0,\n    };\n  }\n}\n","<div class=\"roles-content\">\n  <div class=\"setup-page dept-page\">\n    <section class=\"dept-hero card\">\n      <div class=\"dept-hero__copy\">\n        <p class=\"hero-kicker\">Org Structure</p>\n        <h1 class=\"page-title\">Departments</h1>\n        <p class=\"page-subtitle\">Manage departments, ownership, and hiring capacity in one centralized registry.</p>\n      </div>\n      <div class=\"dept-hero__stats\">\n        <div class=\"stat-box\">\n          <span>Total Departments</span>\n          <strong>{{ departmentCount }}</strong>\n        </div>\n        <div class=\"stat-box\">\n          <span>Total Members</span>\n          <strong>{{ totalMembers }}</strong>\n        </div>\n        <div class=\"stat-box\">\n          <span>Open Roles</span>\n          <strong>{{ totalOpenRoles }}</strong>\n        </div>\n      </div>\n    </section>\n\n    <div class=\"page-toolbar card\">\n      <div class=\"toolbar-left\">\n        <label>\n          Tenant\n          <input type=\"text\" class=\"form-control\" placeholder=\"default\" [(ngModel)]=\"tenantId\" />\n        </label>\n        <button class=\"btn-outline\" (click)=\"loadDepartments()\" [disabled]=\"isLoading\">{{ isLoading ? 'Loading...' : 'Load Departments' }}</button>\n      </div>\n      <div class=\"toolbar-right\">\n        <button class=\"btn-primary\" (click)=\"openModal()\" [disabled]=\"!canManageDepartments\">\n          <ion-icon name=\"add-outline\"></ion-icon>\n          Add Department\n        </button>\n      </div>\n    </div>\n\n    <div class=\"card notice\" *ngIf=\"!canManageDepartments\">\n      You have view-only access. Only <strong>Admin</strong> or <strong>Super Admin</strong> can add, edit, or delete departments.\n    </div>\n    <div class=\"card notice error\" *ngIf=\"errorMessage\">{{ errorMessage }}</div>\n\n    <section class=\"card dept-table-card\">\n      <div class=\"card-header\">\n        <h3>Department Registry</h3>\n      </div>\n      <div class=\"table-responsive\">\n        <table class=\"dept-table\">\n          <thead>\n            <tr>\n              <th>Department</th>\n              <th>Description</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let dept of departments\">\n              <td>\n                <div class=\"dept-cell\">\n                  <div class=\"dept-icon\" [style.background]=\"dept.color + '20'\" [style.color]=\"dept.color\">\n                    <ion-icon [name]=\"dept.icon\"></ion-icon>\n                  </div>\n                  <span>{{ dept.name }}</span>\n                </div>\n              </td>\n              <td>{{ dept.description || 'No description provided.' }}</td>\n              <td>\n                <div class=\"dept-actions\">\n                  <button class=\"action-btn edit\" (click)=\"editDept(dept)\" [disabled]=\"!canManageDepartments\"><ion-icon name=\"create-outline\"></ion-icon></button>\n                  <button class=\"action-btn delete\" (click)=\"deleteDept(dept)\" [disabled]=\"!canManageDepartments\"><ion-icon name=\"trash-outline\"></ion-icon></button>\n                </div>\n              </td>\n            </tr>\n            <tr *ngIf=\"!departments.length && !isLoading\">\n              <td colspan=\"3\" class=\"empty-cell\">No departments found for this tenant.</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n  </div>\n\n  <div class=\"modal-overlay\" *ngIf=\"showModal\" (click)=\"closeModal($event)\">\n    <div class=\"modal-box\">\n      <div class=\"modal-header\">\n        <h3>{{ editMode ? 'Edit Department' : 'Add Department' }}</h3>\n        <button class=\"close-btn\" (click)=\"closeModal(null)\"><ion-icon name=\"close-outline\"></ion-icon></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"form-group\">\n          <label>Department Name</label>\n          <input type=\"text\" class=\"form-control\" placeholder=\"e.g. Product Design\" [(ngModel)]=\"form.name\"/>\n        </div>\n        <div class=\"form-group\">\n          <label>Description</label>\n          <textarea class=\"form-control\" rows=\"2\" placeholder=\"Short department description\" [(ngModel)]=\"form.description\"></textarea>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button class=\"btn-outline\" (click)=\"closeModal(null)\">Cancel</button>\n        <button class=\"btn-primary\" (click)=\"saveDept()\" [disabled]=\"!canManageDepartments\">{{ editMode ? 'Save' : 'Create' }}</button>\n      </div>\n    </div>\n  </div>\n</div>\n"],"names":["CommonModule","FormsModule","RouterModule","IonicModule","HttpClientModule","DepartmentsPage","DepartmentsApiService","routes","path","component","DepartmentsPageModule","imports","forChild","declarations","i1","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","errorMessage","ɵɵelement","ɵɵlistener","DepartmentsPage_tr_54_Template_button_click_11_listener","dept_r3","ɵɵrestoreView","_r2","$implicit","ɵɵnextContext","ɵɵresetView","editDept","DepartmentsPage_tr_54_Template_button_click_13_listener","deleteDept","ɵɵstyleProp","color","ɵɵproperty","icon","name","description","canManageDepartments","DepartmentsPage_div_56_Template_div_click_0_listener","$event","_r4","closeModal","DepartmentsPage_div_56_Template_button_click_5_listener","ɵɵtwoWayListener","DepartmentsPage_div_56_Template_input_ngModelChange_11_listener","ɵɵtwoWayBindingSet","form","DepartmentsPage_div_56_Template_textarea_ngModelChange_15_listener","DepartmentsPage_div_56_Template_button_click_17_listener","DepartmentsPage_div_56_Template_button_click_19_listener","saveDept","editMode","ɵɵtwoWayProperty","constructor","authService","departmentsApi","tenantId","showModal","editingId","isLoading","departments","ngOnInit","loadDepartments","trim","listDepartments","subscribe","next","res","map","d","mapFromApi","error","err","detail","role","currentUser","toLowerCase","departmentCount","length","totalMembers","reduce","sum","memberCount","totalOpenRoles","openRoles","openModal","id","confirm","deleteDepartment","filter","x","updateDepartment","departmentId","createDepartment","e","target","currentTarget","member_count","open_roles","ɵɵdirectiveInject","AuthService","i2","selectors","decls","vars","consts","template","DepartmentsPage_Template","rf","ctx","DepartmentsPage_Template_input_ngModelChange_30_listener","DepartmentsPage_Template_button_click_31_listener","DepartmentsPage_Template_button_click_34_listener","ɵɵtemplate","DepartmentsPage_div_37_Template","DepartmentsPage_div_38_Template","DepartmentsPage_tr_54_Template","DepartmentsPage_tr_55_Template","DepartmentsPage_div_56_Template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}