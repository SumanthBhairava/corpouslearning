<header class="app-header">
  <div class="header-left">
    <button class="hamburger" (click)="onOpenMenu()">
      <ion-icon name="menu-outline"></ion-icon>
    </button>

    <div class="breadcrumb">
      <ion-icon name="home-outline" class="breadcrumb-home"></ion-icon>
      <ion-icon name="chevron-forward-outline" class="breadcrumb-sep"></ion-icon>
      <span>{{ currentPageTitle }}</span>
    </div>
  </div>

  <div class="header-center">
    <div class="header-search">
      <ion-icon name="search-outline"></ion-icon>
      <input type="text" placeholder="Search anything..." [(ngModel)]="searchQuery" />
      <span class="search-kbd">⌘K</span>
    </div>
  </div>

  <div class="header-right">
    <!-- Notifications -->
    <button class="icon-btn notification-btn" (click)="toggleNotifications()">
      <ion-icon name="notifications-outline"></ion-icon>
      <span class="notif-dot"></span>
    </button>

    <!-- Theme toggle placeholder -->
    <button class="icon-btn">
      <ion-icon name="contrast-outline"></ion-icon>
    </button>

    <!-- User avatar -->
    <div class="header-user" (click)="toggleUserMenu()">
      <div class="avatar">{{ userInitials }}</div>
      <div class="user-info">
        <span class="user-name">{{ user?.name }}</span>
        <span class="user-role">{{ user?.role }}</span>
      </div>
      <ion-icon name="chevron-down-outline" class="user-chevron"></ion-icon>
    </div>

    <!-- User dropdown -->
    <div class="user-dropdown" *ngIf="userMenuOpen">
      <div class="dropdown-header">
        <div class="avatar lg">{{ userInitials }}</div>
        <div>
          <p class="name">{{ user?.name }}</p>
          <p class="email">{{ user?.email }}</p>
        </div>
      </div>
      <ul>
        <li><ion-icon name="person-outline"></ion-icon> My Profile</li>
        <li><ion-icon name="settings-outline"></ion-icon> Settings</li>
        <li><ion-icon name="help-circle-outline"></ion-icon> Help</li>
        <li class="divider"></li>
        <li class="danger" (click)="logout()"><ion-icon name="log-out-outline"></ion-icon> Sign Out</li>
      </ul>
    </div>
  </div>

  <!-- Notification Panel -->
  <div class="notif-panel" *ngIf="notifOpen">
    <div class="notif-header">
      <h4>Notifications</h4>
      <button (click)="markAllRead()">Mark all read</button>
    </div>
    <ul class="notif-list">
      <li class="unread">
        <div class="notif-icon success"><ion-icon name="checkmark-circle-outline"></ion-icon></div>
        <div class="notif-body">
          <p><strong>New user registered</strong></p>
          <small>John Doe joined the team • 5m ago</small>
        </div>
      </li>
      <li class="unread">
        <div class="notif-icon warning"><ion-icon name="warning-outline"></ion-icon></div>
        <div class="notif-body">
          <p><strong>Role permission updated</strong></p>
          <small>Admin role was modified • 2h ago</small>
        </div>
      </li>
      <li>
        <div class="notif-icon info"><ion-icon name="information-circle-outline"></ion-icon></div>
        <div class="notif-body">
          <p><strong>Department restructure</strong></p>
          <small>Engineering dept. updated • 1d ago</small>
        </div>
      </li>
    </ul>
  </div>
</header>
